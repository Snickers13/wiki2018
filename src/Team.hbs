{{template templates.head mode}}
<html>

{{navigation mode "_team" "team"}}
<div class="content team">
  <div class="titleBox row" style="background: url({{image "teamphoto.jpg" "directlink" mode}})">
    <div class="layer shade">
      <div class="squiggle squiggleForward col-xs-4"></div>
      <div class="titleCaption col-xs-4">
        <h1>
          Our Lit Team
        </h1>
      </div>
      <div class="squiggle squiggleBackward col-xs-4"></div>
    </div>
  </div>
  <div class="content-main">
    <div>
      <div class="ip-group-wrapper">
        <div class="memberList row" v-for="memberPair in memberPairs">
          <div class="col-sm-3">
            <div class="lightbulb" v-bind:style="{ backgroundImage: 'url(' + memberPair[0].picture + ')' }"></div>
          </div>
          <div class="col-sm-3">
            <div class="teamMemberInfo">
              <h2>^^memberPair[0].name + (memberPair[0].nickname ? ' (' + memberPair[0].nickname + ')' : '')$$</h2>
              <p>^^(memberPair[0].year || '') + (memberPair[0].year ? ', ' : '') + (memberPair[0].subteam || '')$$</p>
              <p>^^memberPair[0].bio$$</p>
            </div>
          </div>
	  <div class="col-sm-3" v-if="memberPair.length > 1">
            <div class="lightbulb" v-bind:style="{ backgroundImage: 'url(' + memberPair[1].picture + ')' }"></div>
          </div>
	  <div class="col-sm-3" v-if="memberPair.length > 1">
            <div class="teamMemberInfo">
              <h2>^^memberPair[1].name + (memberPair[1].nickname ? ' (' + memberPair[1].nickname + ')' : '')$$</h2>
              <p>^^(memberPair[1].year || '') + (memberPair[1].year ? ', ' : '') + (memberPair[1].subteam || '')$$</p>
              <p>^^memberPair[1].bio$$</p>
            </div>
          </div>
      </div>
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/vue"></script>
<script>
var teamPage = new Vue({
  el: ".team",
  delimiters: ['^^', '$$'],
  data:{
    ip: {
    parent: "IP",
    members: [
      {'name': 'Test1', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test2', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test3', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test4', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test5', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test6', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test7', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test8', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test9', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test10', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'},
      {'name': 'Test11', 'picture': 'http://2017.igem.org/wiki/images/6/69/Cody-waterloo.png', 'year': '3B ;)', 'nickname': 'Testeroo', 'subteam': 'Math', 'bio': 'I am a test'}
    ]
    }},
  computed: {
    memberPairs: function () {
    console.log('blah');
    console.log(this.ip.members.reduce(function(result, value, index, array) {
      if (index % 2 === 0)
        result.push(array.slice(index, index + 2));
      return result;
    }, []));
    return this.ip.members.reduce(function(result, value, index, array) {
      if (index % 2 === 0)
        result.push(array.slice(index, index + 2));
      return result;
    }, []);
  }
}
}
)
</script>
</html>
{{template templates.footer mode}}
